# Agent Spy Environment Configuration
# Copy this file to .env and customize the values for your deployment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment: development, staging, production
ENVIRONMENT=production

# Enable debug mode (true/false)
DEBUG=false

# =============================================================================
# DATABASE SETTINGS
# =============================================================================

# Database type: sqlite or postgresql
DATABASE_TYPE=sqlite

# Database connection URL (overrides component-based configuration)
# For SQLite: sqlite+aiosqlite:///./agentspy.db
# For PostgreSQL: postgresql+asyncpg://user:pass@host:port/dbname
DATABASE_URL=sqlite+aiosqlite:///./agentspy.db

# Database echo (log SQL queries)
DATABASE_ECHO=false

# =============================================================================
# POSTGRESQL SETTINGS (used when DATABASE_TYPE=postgresql)
# =============================================================================

# PostgreSQL connection settings
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=agentspy
DATABASE_USER=agentspy_user
DATABASE_PASSWORD=agentspy_password

# PostgreSQL SSL mode: disable, allow, prefer, require, verify-ca, verify-full
DATABASE_SSL_MODE=prefer

# PostgreSQL connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_CONNECTIONS=20

# =============================================================================
# POSTGRESQL DOCKER SETTINGS
# =============================================================================

# PostgreSQL container settings (for Docker deployments)
POSTGRES_DB=agentspy
POSTGRES_USER=agentspy_user
POSTGRES_PASSWORD=agentspy_password
POSTGRES_PORT=5432

# =============================================================================
# API SETTINGS
# =============================================================================

# Authentication settings
REQUIRE_AUTH=false
# Comma-separated list of valid API keys (if auth is enabled)
API_KEYS=your-api-key-1,your-api-key-2

# =============================================================================
# SERVER PORTS
# =============================================================================

# Backend API port
BACKEND_PORT=8000

# Frontend web interface port
FRONTEND_PORT=80

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:80,https://yourdomain.com
CORS_CREDENTIALS=true

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Maximum trace size in MB
MAX_TRACE_SIZE_MB=10

# Request timeout in seconds
REQUEST_TIMEOUT=30

# =============================================================================
# LOGGING SETTINGS
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# =============================================================================
# REDIS SETTINGS (OPTIONAL - Redis disabled by default)
# =============================================================================

# Enable/disable Redis integration (default: false)
REDIS_ENABLED=false

# Redis connection settings (only used when REDIS_ENABLED=true)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=agentspy_redis_password
REDIS_DATABASE=0

# Redis connection pool settings
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Redis memory management
REDIS_MAX_MEMORY=512mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# Redis SSL settings (for production)
REDIS_SSL=false
REDIS_SSL_CERT_REQS=required
# REDIS_SSL_CA_CERTS=/path/to/ca.pem

# Cache settings
CACHE_MEMORY_SIZE=1000
CACHE_DEFAULT_TTL=3600

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# These settings are used by docker-compose.dev.yml

# Development ports (different from production to avoid conflicts)
BACKEND_DEV_PORT=8001
FRONTEND_DEV_PORT=3000
